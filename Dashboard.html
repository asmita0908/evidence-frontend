<!DOCTYPE html>
<html>
<head>
  <title>Evidence Dashboard</title>
</head>
<body>

<h2>Evidence Dashboard</h2>

<button onclick="goSearch()">Search Cases</button>
<button onclick="goView()">View Cases</button>
<button onclick="logout()">Logout</button>

<hr>

<div id="adminPanel">ADMIN PANEL</div>
<div id="officerPanel">OFFICER PANEL</div>
<div id="viewerPanel">VIEWER PANEL</div>

<script>
window.onload = () => {
  const token = localStorage.getItem('token');
  const role = localStorage.getItem('role');

  if (!token) {
    alert('Please login first');
    window.location.href = 'index.html';
    return;
  }

  adminPanel.style.display = 'none';
  officerPanel.style.display = 'none';
  viewerPanel.style.display = 'none';

  if (role === 'admin') {
    adminPanel.style.display = 'block';
    officerPanel.style.display = 'block';
    viewerPanel.style.display = 'block';
  } else if (role === 'officer') {
    officerPanel.style.display = 'block';
    viewerPanel.style.display = 'block';
  } else {
    viewerPanel.style.display = 'block';
  }
};

function goSearch() {
  window.location.href = 'search-cases.html';
}

function goView() {
  window.location.href = 'view-cases.html';
}

function logout() {
  localStorage.clear();
  window.location.href = 'index.html';
}
</script>

</body>
</html>
